(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/SWRV_test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("8a23"),r=a.n(n);r.a},"3aaa":function(t,e,a){a("cb29"),a("96cf");var n=a("c973");e.loadAndPredict=function(){var t=n(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bodyPix.load({architecture:"MobileNetV1",outputStride:16,multiplier:.75,quantBytes:4});case 2:return n=t.sent,t.next=5,n.segmentPersonParts(e,{flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:1});case 5:return r=t.sent,i=bodyPix.toColoredPartMask(r),s=.7,o=!1,l=0,bodyPix.drawMask(a,e,i,s,l,o),t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.measureSize=function(t,e,a){var n=e.getImageData(0,0,e.canvas.width,e.canvas.height),r=t.width;if(t.allPoses[0].keypoints[5].score<.6||t.allPoses[0].keypoints[6].score<.6||t.allPoses[0].keypoints[11].score<.6||t.allPoses[0].keypoints[12].score<.6)return 0;var i=(t.allPoses[0].keypoints[5].position.x+t.allPoses[0].keypoints[6].position.x)/2,s=(t.allPoses[0].keypoints[5].position.y+t.allPoses[0].keypoints[6].position.y)/2,o=(t.allPoses[0].keypoints[11].position.x+t.allPoses[0].keypoints[12].position.x)/2,l=(t.allPoses[0].keypoints[11].position.y+t.allPoses[0].keypoints[12].position.y)/2;if(e.moveTo(i,s),e.lineTo(o,l),e.stroke(),1==a)var c=l;else c=(s+l)*a;var u=(c-s)/((l-s)/(o/i))+i,d=Math.atan((s-l)/(i-o)),h=1,f=1;while(1){var m=4*parseInt(Math.cos(d+1.5707963267948966)*h+u),v=4*parseInt(Math.sin(d+1.5707963267948966)*h+c)*r,p=4*parseInt(Math.cos(d-1.5707963267948966)*f+u),g=4*parseInt(Math.sin(d-1.5707963267948966)*f+c)*r,b=m+v,w=p+g;if(-1!=t.data[b/4])n.data[b]=255,h+=1;else{if(-1==t.data[w/4]){e.beginPath(),e.arc(m/4,v/4/r,10,0,Math.PI/180*360,!1),e.fillStyle="rgb(0, 255, 255)",e.fill(),e.beginPath(),e.arc(p/4,g/4/r,10,0,Math.PI/180*360,!1),e.fillStyle="rgb(0, 255, 255)",e.fill(),e.stroke(),e.beginPath(),e.strokeStyle="rgb(0, 255, 0)",e.lineWidth=4,e.moveTo(m/4,v/4/r),e.lineTo(p/4,g/4/r),e.stroke();break}n.data[w]=255,f+=1}}return h+f}},"4feb":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{to:"/",link:""}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("SWRV")])],1)],1),n("v-list-item",{attrs:{to:"/CheckBody",link:""}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-human")])],1),n("v-list-item-content",[n("v-list-item-title",[t._v("Measure")])],1)],1)],1)],1),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-side-icon",[n("v-img",{staticClass:"mr-3",attrs:{src:a("7246"),height:"30px",width:"30px"}})],1),n("router-link",{attrs:{id:"toolbar_title",to:"/"}},[n("v-toolbar-title",[t._v("SWRV")])],1)],1),n("v-content",[n("router-view")],1),n("v-footer",{attrs:{app:""}},[n("v-row",[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("span",{staticClass:"fontresize"},[t._v("(주) 스월브 | CEO : 윤지현 | LINK : www.swrvio.com, 부산 남구 전포대로 133, 제오피스호 13층(문현동) | CONTACT : +82 10-9520-3919")])])],1)],1)],1)},i=[],s={props:{source:String},data:function(){return{drawer:null,Measurelink:"/Measure"}},created:function(){this.$vuetify.theme.dark=!0}},o=s,l=(a("034f"),a("2877")),c=a("6544"),u=a.n(c),d=a("7496"),h=a("40dc"),f=a("5bc1"),m=a("62ad"),v=a("a75b"),p=a("553a"),g=a("132d"),b=a("adda"),w=a("8860"),y=a("da13"),k=a("1800"),x=a("5d23"),_=a("f774"),j=a("0fd9"),C=a("2a7f"),P=Object(l["a"])(o,r,i,!1,null,null,null),V=P.exports;u()(P,{VApp:d["a"],VAppBar:h["a"],VAppBarNavIcon:f["a"],VCol:m["a"],VContent:v["a"],VFooter:p["a"],VIcon:g["a"],VImg:b["a"],VList:w["a"],VListItem:y["a"],VListItemAction:k["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VNavigationDrawer:_["a"],VRow:j["a"],VToolbarTitle:C["a"]});var I=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("HelloGuest",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},M=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{staticClass:"my-3",attrs:{src:a("7246"),contain:"",height:"200"}})],1),n("v-col",{staticClass:"mb-4"},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("Welcome to SWRV")]),n("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),n("br"),t._v("please join our online "),n("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),n("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.text))])})),0)],1),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),n("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),n("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.text))])})),0)],1)],1)],1)},R=[],T={data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},B=T,F=a("a523"),z=Object(l["a"])(B,O,R,!1,null,null,null),E=z.exports;u()(z,{VCol:m["a"],VContainer:F["a"],VImg:b["a"],VRow:j["a"]});var A={name:"Home",components:{HelloGuest:E}},L=A,U=Object(l["a"])(L,S,M,!1,null,null,null),W=U.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Measure")},N=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height px-6",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("h1",[t._v("Measure")])]),a("v-row",{attrs:{align:"center",justify:"center"}},[a("h3",{staticClass:"pb-4"},[t._v("check your fat")])]),a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-slider",{staticClass:"py-4",attrs:{color:"grey darken-3",label:"키",hint:"Be honest",min:"1",max:"300","thumb-color":"light-green ","thumb-label":"","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.tall,callback:function(e){t.tall=e},expression:"tall"}})]},proxy:!0}]),model:{value:t.tall,callback:function(e){t.tall=e},expression:"tall"}})],1),a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-slider",{staticClass:"py-4",attrs:{color:"grey darken-3",label:"몸무게",hint:"Be honest",min:"1",max:"200","thumb-color":"light-green ","thumb-label":"","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.kg,callback:function(e){t.kg=e},expression:"kg"}})]},proxy:!0}]),model:{value:t.kg,callback:function(e){t.kg=e},expression:"kg"}})],1),a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-file-input",{attrs:{accept:"image/*",color:"light-green ",label:"정면 사진.","prepend-icon":"mdi-camera"},model:{value:t.frontimg,callback:function(e){t.frontimg=e},expression:"frontimg"}})],1),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-file-input",{attrs:{accept:"image/*",color:"light-green ",label:"측면 사진.","prepend-icon":"mdi-camera"},model:{value:t.sideimg,callback:function(e){t.sideimg=e},expression:"sideimg"}})],1),a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-radio-group",{attrs:{mandatory:!1,row:""},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[a("v-radio",{attrs:{label:"남",value:"남"}}),a("v-radio",{attrs:{label:"여",value:"여"}})],1)],1),a("v-row",{attrs:{align:"center",justify:"space-between"}},[a("v-col",{attrs:{align:"start"}},[a("v-btn",{on:{click:t.resetdata}},[t._v("초기화")])],1),a("v-col",{attrs:{align:"end"}},[a("v-btn",{on:{click:t.onclick}},[t._v("측정하기")])],1)],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-progress-linear",{attrs:{active:t.active,indeterminate:"",height:"4",color:"yellow darken-2"}})],1),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6",align:"center"}},[a("h4",[t._v(t._s(t.msg))])])],1),t.processend?a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6",align:"center"}},[a("h3",[t._v("정면")])]),a("v-col",{attrs:{cols:"6",align:"center"}},[a("h3",[t._v("측면")])])],1):t._e(),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("canvas",{attrs:{id:"canvasFront"}})]),a("v-col",{attrs:{cols:"6"}},[a("canvas",{attrs:{id:"canvasSide"}})])],1)],1)},H=[],q=(a("b680"),a("96cf"),a("1da1")),G=a("6b7b"),J=a.n(G),K=a("e5ab"),Q=a.n(K),Y=a("3aaa"),X=a.n(Y);function Z(t,e,a){var n=null,r=new Image,i=new Image,s=0,o=0,l=new FileReader;l.readAsArrayBuffer(t),l.onload=function(e){n=J.a.getOrientation(e.target.result),Q()(t,650,650,1).then((function(t){r.src=t}))},r.onload=function(){i.src=J.a.rotateimge(r,n)},i.onload=function(){X.a.loadAndPredict(i,e).then(function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,X.a.measureSize(n,e.getContext("2d"),1);case 3:return s=t.sent,t.next=6,X.a.measureSize(n,e.getContext("2d"),.56);case 6:o=t.sent,a({hipsize:s,waistsize:o});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}var tt=Z,et={data:function(){return{frontimg:void 0,frontwhr:void 0,sideimg:void 0,sidewhr:void 0,gender:void 0,tall:170,kg:60,bmi:0,whr:0,processend:!1,active:!1,msg:""}},methods:{onclick:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.frontimg||t.sideimg)if(t.frontimg)if(t.sideimg)if(t.gender){if(t.frontimg&&t.sideimg&&t.gender){t.msg="인공지능이 체형을 분석중입니다.",t.active=!0,a=document.getElementById("canvasFront"),n=document.getElementById("canvasSide");try{tt(t.frontimg,a,(function(e){0==e.hipsize&&(t.msg="(인식불가)하반신이 인식되지 않습니다.",t.active=!1),t.frontwhr=e.waistsize/e.hipsize,tt(t.sideimg,n,(function(a){0==e.hipsize&&(t.msg="(인식불가)하반신이 인식되지 않습니다.",t.active=!1),t.active=!1,t.processend=!0,t.sidewhr=a.waistsize/a.hipsize,t.bmi=t.kg/(t.tall/100*t.tall/100).toFixed(2),t.whr=t.sidewhr*t.frontwhr,console.log("처리전",t.bmi,t.whr),"여"==t.gender?t.bmi=t.bmi*(t.sidewhr*t.frontwhr+.15):t.bmi=t.bmi*(t.sidewhr*t.frontwhr),t.bmi,console.log("처리후",t.bmi),t.bmi<=18.5?t.msg=t.bmi.toFixed(2)+" 저체중입니다":t.bmi<23?t.msg=t.bmi.toFixed(2)+" 정상입니다":t.bmi<25?t.msg=t.bmi.toFixed(2)+" 과체중입니다":t.bmi>25&&(t.msg=t.bmi.toFixed(2)+" 비만입니다")})),console.log(1)}))}catch(r){t.msg=r}}}else t.msg="성별을 선택해주세요.";else t.msg="측면 사진이 없습니다.";else t.msg="정면 사진이 없습니다.";else t.msg="선택된 사진이 없습니다.";case 1:case"end":return e.stop()}}),e)})))()},resetdata:function(){this.frontimg=void 0,this.sideimg=void 0,this.frontwhr=void 0,this.sidewhr=void 0,this.gender=void 0,this.tall=170,this.kg=70,this.bmi=0,this.whr=0,this.processend=!1,this.active=!1,this.msg="";var t=document.getElementById("canvasFront"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.beginPath();t=document.getElementById("canvasSide"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.beginPath()}}},at=et,nt=(a("5fd2"),a("8336")),rt=a("23a7"),it=a("8e36"),st=a("67b6"),ot=a("43a6"),lt=a("ba0d"),ct=a("8654"),ut=Object(l["a"])(at,$,H,!1,null,null,null),dt=ut.exports;u()(ut,{VBtn:nt["a"],VCol:m["a"],VContainer:F["a"],VFileInput:rt["a"],VProgressLinear:it["a"],VRadio:st["a"],VRadioGroup:ot["a"],VRow:j["a"],VSlider:lt["a"],VTextField:ct["a"]});var ht={name:"measure",components:{Measure:dt}},ft=ht,mt=Object(l["a"])(ft,D,N,!1,null,null,null),vt=mt.exports;n["a"].use(I["a"]);var pt=[{path:"/",name:"Home",component:W},{path:"/CheckBody",name:"CheckBody",component:vt}],gt=new I["a"]({mode:"history",base:"/SWRV_test/",routes:pt}),bt=gt,wt=a("2f62");n["a"].use(wt["a"]);var yt=new wt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),kt=a("f309");n["a"].use(kt["a"]);var xt=new kt["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:bt,store:yt,vuetify:xt,render:function(t){return t(V)}}).$mount("#app")},"5fd2":function(t,e,a){"use strict";var n=a("4feb"),r=a.n(n);r.a},"6b7b":function(t,e,a){a("d3b7"),e.getOrientation=function(t){var e=new DataView(t);if(65496!==e.getUint16(0,!1))return-2;var a=e.byteLength,n=2;while(n<a){var r=e.getUint16(n,!1);if(n+=2,65505===r){if(1165519206!==e.getUint32(n+=2,!1))return-1;var i=18761===e.getUint16(n+=6,!1);n+=e.getUint32(n+4,i);var s=e.getUint16(n,i);n+=2;for(var o=0;o<s;o++)if(274===e.getUint16(n+12*o,i))return e.getUint16(n+12*o+8,i)}else{if(65280!==(65280&r))break;n+=e.getUint16(n,!1)}}return-1},e.rotateimge=function(t,e){var a=document.createElement("canvas"),n=a.getContext("2d"),r=t.width,i=t.height;switch(e){case 2:a.width=r,a.height=i,n.translate(r,0),n.scale(-1,1);break;case 3:a.width=r,a.height=i,n.translate(r,i),n.rotate(Math.PI);break;case 4:a.width=r,a.height=i,n.translate(0,i),n.scale(1,-1);break;case 5:a.width=i,a.height=r,n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:a.width=i,a.height=r,n.rotate(.5*Math.PI),n.translate(r,-i),n.scale(-1,1);break;case 7:a.width=i,a.height=r,n.rotate(.5*Math.PI),n.translate(r,-i),n.scale(-1,1);break;case 8:a.width=i,a.height=r,n.rotate(-.5*Math.PI),n.translate(-r,0);break;default:a.width=r,a.height=i;break}return n.drawImage(t,0,0,r,i),a.toDataURL("image/jpeg")}},7246:function(t,e,a){t.exports=a.p+"img/swrv_logo.b46a8890.png"},"8a23":function(t,e,a){}});
//# sourceMappingURL=app.3d408ae2.js.map